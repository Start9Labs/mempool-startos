import { utils } from "../util";
export class Uninstall {
    fn;
    constructor(fn) {
        this.fn = fn;
    }
    static of(fn) {
        return new Uninstall(fn);
    }
    async uninit({ effects, nextVersion, }) {
        if (!nextVersion)
            await this.fn({ effects, utils: utils(effects) });
    }
}
export function setupUninstall(fn) {
    return Uninstall.of(fn);
}
